---
title: "Creer des cartes"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{creer-des-cartes}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(agreste)
```

<!-- WARNING - This vignette is generated by {fusen} from /dev/flat_carte.Rmd: do not edit by hand -->

# Créer données de fond de carte

```{r examples-donnees_fond_carte, eval = FALSE}
data_geo_france_region_metro <- donnees_fond_carte(zone_geographique = "france", niveau_representation = "region_metro")
data_geo_france_dep_metro <- donnees_fond_carte(zone_geographique = "france", niveau_representation = "departement_metro")
```

# Carte symbole proportionnel

```{r examples-carte-rond-proportionnel, eval = FALSE}
library(agreste)
library(dplyr)
### récupération des données de permis de construire de SITADEL 
permis_construire_region_2020 <- agreste::permis_construire_region %>% 
  filter(annee_autorisation == 2020)

### création de la carte et sauvegarde du fichier carte
carte_pc_2020 <- carte_rond_proportionnel(df = permis_construire_region_2020, colonne_code_zone_geo = REG, colonne_volume = PC, titre_carte = "Carte 1", sous_titre_carte = "Nombre de permis de construire délivré en 2020 par région", titre_legende_volume = "Nombre de permis de construire", save_carte = TRUE, path_carte = "carteReg.png")

### ouverture de la carte
browseURL("carteReg.png")

# Pour faire par département :
permis_construire_dep_2020 <- agreste::permis_construire_dep %>%
  filter(annee_autorisation == 2020)

carte_pc_2020 <- carte_rond_proportionnel(df = permis_construire_dep_2020, colonne_code_zone_geo = DEP, colonne_volume = PC, niveau_representation = "departement_metro", titre_carte = "Carte 2", sous_titre_carte = "Nombre de permis de construire délivré en 2020 par département", titre_legende_volume = "Nombre de permis de construire", save_carte = TRUE, path_carte = "carteDEP.png", taille_max_rond = 3)

browseURL("carteDEP.png")

```

# Carte aplat de couleurs

```{r examples-carte_aplat, eval = FALSE}
library(agreste)
library(dplyr)
### récupération des données de permis de construire de SITADEL 
permis_construire_region_2020 <- agreste::permis_construire_region %>% 
  filter(annee_autorisation == 2020)

### création de la carte et plot
carte_pc_2020 <- carte_aplat(df = permis_construire_region_2020, colonne_code_zone_geo = REG, colonne_volume = PC, titre_carte = "Carte 1", sous_titre_carte = "Nombre de permis de construire délivré en 2020 par région", titre_legende_volume = "Nombre de permis de construire", save_carte = FALSE)

```

